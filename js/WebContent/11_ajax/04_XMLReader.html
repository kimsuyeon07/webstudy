<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>04_XMLReader</title>
	<script>
		onload = function() {
			var request = new XMLHttpRequest();
			request.open('get','person.xml',true);  // 비동기 통신 방법
			request.send();
			request.onreadystatechange = function() {
				if (request.readyState == 4 && request.status == 200) {
					// 서버의 응답 xml 데이터는 responseXML이다.
					var resXML = request.responseXML;  // <== [person.xml]의 <person>태그가 들어가 있는 상태
					var names = resXML.getElementsByTagName('name');  // <== 데이터를 배열 형태로 가지고 온다. (데이터가 한개라도)
					// names : [<name>제시카</name>]
					var ages = resXML.getElementsByTagName('age');
					// ages : [<age>30</age>]
					var addresses = resXML.getElementsByTagName('address');
					// addresses : [<address>서울시 마포구</address>]
					var tels = resXML.getElementsByTagName('tel');
					// tels : [<tel>010-1234-5678</tel>]
					
					
					var ul = document.createElement('ul');
					document.getElementById('receive').appendChild(ul);
					
					
					var li = document.createElement('li');
					li.textContent = names[0].textContent;
					ul.appendChild(li);
					
					var li = document.createElement('li');
					li.textContent = ages[0].textContent;
					ul.appendChild(li);
					
					var li = document.createElement('li');
					li.textContent = addresses[0].textContent;
					ul.appendChild(li);
					
					var li = document.createElement('li');
					li.textContent = tels[0].textContent;
					ul.appendChild(li);
					
					
				}
			}
		}
	</script>
</head>
<body>
	<div id="receive">
	</div>
</body>
</html>